<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake news</title>
    <style>
      h1 {
        text-align: center;
      }
      .story-illustration-container {
        text-align: center;
      }
      .story-illustration {
        width: 400px;
        height: auto;
        max-width: 100%;
        display: block;
        margin: 0 auto;
      }
      .highlight-words-container {
        margin-top: 20px;
        margin-bottom: 30px;
        display: flex;
        /*gap: 10px;*/
        justify-content: flex-start;
        flex-wrap: wrap;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
      }
      .highlight-span {
        transition: color 0.2s;
        font-size: 1.8em;
        margin-left: 0.35em;
      }
      .highlight-span.highlighted {
        background-color: #13366b;
        color: #fff;
        border-radius: 0.09em;
        box-shadow: 0 1px 3px rgba(19,54,107,0.07);
        transition: background 0.2s;
        outline: 0.07em solid #13366b;
        outline-offset: -0.07em;
        /* Use box-shadow for subtle emphasis, not width, to avoid element resizing or hiding text */
      }
      /* Ending types only change text color */
     .ending1 {
        color: #0070f3; /* blue-ish */
        margin-left: 0; /* to attach to previous word */
        }

        .ending2 {
        color: #d12f2f; /* red-ish */
        margin-left: 0; /* to attach to previous word */
        }      

      .quiz-button {
        display: inline-block;
        margin: 26px auto 16px auto;
        padding: 0.6em 1.5em;
        font-size: 1.25em;
        font-family: inherit;
        background: linear-gradient(90deg,#319eee 20%,#89a7da 100%);
        color: #fff;
        border: none;
        border-radius: 2em;
        cursor: pointer;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(49,158,238,0.13);
        text-decoration: none;
        transition: background 0.25s, box-shadow 0.2s, transform 0.1s;
        letter-spacing: 0.02em;
      }
      .quiz-button:hover, .quiz-button:focus {
        background: linear-gradient(90deg,#1e69c5 20%,#38567d 100%);
        box-shadow: 0 4px 15px rgba(49,158,238,0.18);
        color: #eef7ff;
        transform: translateY(-2px) scale(1.045);
        outline: none;
        text-decoration: none;
      }
      .quiz-btn-container {
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 1.5em;
      }




    </style>
</head>
<body>
    <h1>Sää on huono</h1>
    <div class="story-illustration-container">
        <img class="story-illustration"
             src="public/weather_illustration.png"
             alt="illustration">
    </div>
    <div id="highlightWordsParent" class="highlight-words-container"></div>
    <div id="highlightWordsParent2" class="highlight-words-container"></div>
    <div id="highlightWordsParent3" class="highlight-words-container"></div>

    <div class="quiz-btn-container">
      <a class="quiz-button" href="super_simple_quiz.html">?? Quiz ??</a>
    </div>

    
    <script>

    const storyFinnish = `
    Eilen ennuste oli lämmin ja aurinko -inen. 
    Tänään tiedä -mme että ennuste oli väärin. 
    Sää on kylmä ja harmaa. 
    Aurinko ei paista. 
    Lämpötila on plus kaksi aste -tta. 
    Ilma -tietee =n laitos ei kommentoi. 
    Ihmiset näyttä -vät pettyne -i =ltä. 
    Kaupunki on hiljainen ja kylmä. 
    Me odotamme parem -paa huomis -ta.
    `;

    const storyFakeEnglish = `
    Yesterday the_forecast was warm and sun -ny. 
    Today know -we that the_forecast was wrong. 
    The-weather is cold and gray. 
    The-sun doesn't shine. 
    The-temperature is plus two degree -s. 
    Air -science -'s Institute not comments. 
    The-people look -they disappointed -many -from. 
    The-city is quiet and cold. 
    We wait-we better -some tomorrow -some.
    `;

    const storyEnglish = `
    Yesterday the forecast was warm and sunny. 
    Today we know the forecast was wrong. 
    The weather is cold and gray. 
    The sun is not shining. 
    The temperature is plus two degrees.
    The Finnish Meteorological Institute gives no comment.
    The people look disappointed.
    The city is quiet and cold.
    We are waiting for a better tomorrow.
    `;


    // Function to break strings by space and create word arrays
    function createWordArrays() {
    const highlightWords = storyFinnish.split(" ");
    const highlightWords2 = storyFakeEnglish.split(" ");
    const highlightWords3 = storyEnglish.split(" ");
    
    return {
        highlightWords,
        highlightWords2,
        highlightWords3
    };
    }

    // Create the word arrays
    const { highlightWords, highlightWords2, highlightWords3 } = createWordArrays();

      const parent = document.getElementById("highlightWordsParent");
      const parent2 = document.getElementById("highlightWordsParent2");
      const parent3 = document.getElementById("highlightWordsParent3");


      highlightWords.forEach((word, idx) => {
        const word1 = document.createElement("span");
        const word2 = document.createElement("span");
        const word3 = document.createElement("span");

        word1.className = "highlight-span";
        word2.className = "highlight-span";
        word3.className = "highlight-span";
        word1.textContent = word;
        word2.textContent = highlightWords2[idx];
        //wordDiv3.textContent = highlightWords3[idx];

          // Ending 1: starts with "-"
        if (word1.textContent.startsWith("-")) {
            word1.className += " ending1";
            word2.className += " ending1";
            word1.textContent = word1.textContent.slice(1); // remove leading "-"
        }
        // Ending 2: starts with "=" or "=="
        else if (word1.textContent.startsWith("==") || word1.textContent.startsWith("=")) {
            word1.className += " ending2";
            word2.className += " ending2";
            word1.textContent = word1.textContent.replace(/^=+/, ""); // remove one or two "="
        }



        word1.addEventListener("mouseenter", () => {
          word1.classList.add("highlighted");
          word2.classList.add("highlighted");
          //wordDiv3.classList.add("highlighted");
        });
        word1.addEventListener("mouseleave", () => {
          word1.classList.remove("highlighted");
          word2.classList.remove("highlighted");
          //wordDiv3.classList.remove("highlighted");
        });

        parent.appendChild(word1);
        parent2.appendChild(word2);

        // Add extra space if word1 is not an ending. DIDN'T WORK DUE TO FLEXBOX OR WHATEVER, 
        // DOING A SMALL "HACK" IN CSS INSTEAD
        /*
        if (!word1.classList.contains("ending1") && !word1.classList.contains("ending2")) {
          parent.appendChild(document.createTextNode(" "));
          parent2.appendChild(document.createTextNode(" "));
        }
          */
        //parent3.appendChild(wordDiv3);


      });


      highlightWords3.forEach((word, idx) => {
            const word3 = document.createElement("span");
            word3.className = "highlight-span";
            word3.textContent = word;
            parent3.appendChild(word3);

        });




    </script>
</body>
</html>
